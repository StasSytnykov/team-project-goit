parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"clu1":[function(require,module,exports) {

},{"./../images/header/header-mobile-bcg.jpg":[["header-mobile-bcg.e5afa49b.jpg","QZk2"],"QZk2"],"./../images/header/header-tablet-bcg.jpg":[["header-tablet-bcg.481b1074.jpg","SKKq"],"SKKq"],"./../images/header/header-desktop-bcg.jpg":[["header-desktop-bcg.9da5a505.jpg","VUsL"],"VUsL"],"./../images/header/library-header-mobile-bcg.jpg":[["library-header-mobile-bcg.b3d8f4c0.jpg","Di0t"],"Di0t"],"./../images/header/library-header-tablet-bcg.jpg":[["library-header-tablet-bcg.fea731da.jpg","pSNX"],"pSNX"],"./../images/header/library-header-desktop-bcg.jpg":[["library-header-desktop-bcg.20618f3e.jpg","yeLv"],"yeLv"]}],"hC31":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e="3b4cb0b5c3c509ec710c203c7a14be66",t="https://api.themoviedb.org/3";class r{consructor(){this.searchQuery="",this.page=1}fetchMovies(r){const s=`${t}/${r}?api_key=${e}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`;return fetch(s).then(e=>e.ok?e.json():Promise.reject(new Error("Oops! Search bar is empty.")))}fetchMovieBySearch(){return this.fetchMovies("search/movie")}fetchGenres(){return fetch(`${t}/genre/movie/list?api_key=${e}`).then(e=>e.json())}fetchPopularMovie(){return fetch(`${t}/trending/all/day?api_key=${e}`).then(e=>e.json()).then(e=>e)}fetchInfoOfFilm(r){return fetch(`${t}/movie/${r}?api_key=${e}&language=en-US`).then(e=>e.json()).then(e=>e)}get query(){return this.searchQuery}set query(e){this.searchQuery=e}}exports.default=r;
},{}],"VyiV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e={closeIcon:document.querySelector(".modal__close-icon"),modal:document.querySelector(".modal"),searchBtn:document.querySelector(".search-form"),libraryBtn:document.querySelector("header"),galleryMovies:document.querySelector(".gallery-movies"),watchedBtn:document.querySelector("button[name=watched]"),headerBtn:document.querySelectorAll(".library-button"),containerHeader:document.querySelector(".content"),libraryLi:document.querySelector(".library"),homeLi:document.querySelector(".home"),spanHome:document.querySelector(".span-home"),spanLibrary:document.querySelector(".span-library"),libraryBtnList:document.querySelector(".button__list__library"),closeModalBtn:document.querySelector(".modal__close-btn"),backdrop:document.querySelector(".backdrop"),emptyResult:document.querySelector(".empty-result"),backgroundContent:document.querySelector(".content"),logo:document.querySelector(".nav__logo"),footerLink:document.querySelector(".footer__modal-open"),footerBackdrop:document.querySelector('[data-action="deleted-class"]'),body:document.querySelector("body"),footerModal:document.querySelector('div[data-action="check-theme"]'),modalCloseBtn:document.querySelector(".footer-modal__close-btn"),toBtnTop:document.querySelector(".btn-to-top"),spiner:document.querySelector(".foo"),modalInfo:document.querySelector(".modal_info-total")};var o=e;exports.default=o;
},{}],"RRB9":[function(require,module,exports) {
module.exports="/team-project-goit/img_not_found.7ad9f745.jpg";
},{}],"HUSp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./refs")),t=n(require("./api-service")),r=n(require("./moviesMarkup"));function n(e){return e&&e.__esModule?e:{default:e}}const u=new t.default;function s(t){e.default.spiner.style.display="block",t.preventDefault(),e.default.emptyResult.innerHTML="",u.query=t.currentTarget.elements.searchQuery.value.trim(),u.fetchMovieBySearch().then(t=>{0===t.results.length&&(e.default.emptyResult.textContent="Search result not successful. Enter the correct movie name and try again."),a(t),document.querySelectorAll(".film-info__rate").forEach(e=>e.remove()),e.default.searchBtn.searchQuery.value=""}).catch(e=>l(e))}function l(t){e.default.galleryMovies.innerHTML="",e.default.emptyResult.innerHTML=t.message}function a(t){console.log(t.results);const n=(0,r.default)(t.results);e.default.galleryMovies.innerHTML=n,setTimeout(()=>{e.default.spiner.style.display="none"},500)}function o(){let e=[];return u.fetchGenres().then(t=>{t.genres.map(t=>e.push(t))}).catch(e=>l(e)),e}e.default.searchBtn.addEventListener("submit",s);const c=o();var i=c;exports.default=i;
},{"./refs":"VyiV","./api-service":"hC31","./moviesMarkup":"QfT3"}],"QfT3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./images/img_not_found.jpg")),n=i(require("./searchMovie"));function i(e){return e&&e.__esModule?e:{default:e}}function t(i){return i.map(({title:i,name:t,release_date:a,first_air_date:l,genre_ids:s,genres:r,poster_path:d,vote_average:o,id:c})=>{let f="Other";r&&r.length>0&&(f=r.reduce((e,n)=>[...e,n.name],[]).slice(0,2).join(", ")+", Other"),s&&0!==s.length&&(f=n.default.filter(e=>s.includes(e.id)).map(e=>e.name).slice(0,2).join(", ")+", Other");let _=new Date(a).getFullYear(),u=new Date(l).getFullYear(),p=e.default;return d&&(p=`https://image.tmdb.org/t/p/w500${d}`),`<div class="photo-card" id="${c}">\n        <div class="gallery-list__item">\n\n            <img class="image" src=${p}\n              alt="${i}"\n              loading="lazy"\n              width="309"\n              height="449" />\n        </div>\n        <div class="info">\n          <h5 class="gallery-list__item-title">${i||t}\n          </h5>\n          <div class="film-info-cont">\n          <p class="film-info">${f}\n          <span class="film-info__slash">|</span>\n          </p>\n          <p class="film-info__year">${_||u||""}\n          <span class="film-info__rate">${o}</span>\n          </p>\n          </div>\n        </div>\n    </div>`}).join("")}var a=t;exports.default=a;
},{"./images/img_not_found.jpg":"RRB9","./searchMovie":"HUSp"}],"BfNj":[function(require,module,exports) {
"use strict";var e=a(require("./refs")),t=a(require("./moviesMarkup"));function a(e){return e&&e.__esModule?e:{default:e}}function l(a){if("button"!==a.target.type)return;const l=JSON.parse(localStorage.getItem(a.target.name));if(a.target.classList.contains("active")||(e.default.headerBtn.forEach(e=>{e.classList.remove("active")}),a.target.classList.add("active")),l&&l.length>0){const a=(0,t.default)(l);e.default.galleryMovies.innerHTML=a}else e.default.galleryMovies.innerHTML='<p class="empty-library"> There are no films added.<p>'}function r(a){a.preventDefault(),e.default.spanHome.style.display="none",e.default.spanLibrary.style.display="block",e.default.searchBtn.style.display="none",e.default.libraryBtnList.style.display="flex",e.default.containerHeader.classList.add("library-content"),e.default.libraryBtnList.style.display="flex",e.default.watchedBtn.classList.add("active");const l=JSON.parse(localStorage.getItem("watched"));if(l&&l.length>0){const a=(0,t.default)(l);e.default.galleryMovies.innerHTML=a}else e.default.galleryMovies.innerHTML='<p class="empty-library"> There are no films added.<p>'}e.default.libraryBtn.addEventListener("click",l),e.default.libraryLi.addEventListener("click",r);
},{"./refs":"VyiV","./moviesMarkup":"QfT3"}],"RSqK":[function(require,module,exports) {
"use strict";var e=d(require("./refs"));function d(e){return e&&e.__esModule?e:{default:e}}function t(){window.removeEventListener("keydown",a),e.default.backdrop.classList.add("is-hidden")}function n(d){d.currentTarget===d.target&&e.default.backdrop.classList.add("is-hidden")}function a(e){"Escape"===e.code&&t(e)}e.default.closeModalBtn.addEventListener("click",t),e.default.backdrop.addEventListener("click",n),window.addEventListener("keydown",a);
},{"./refs":"VyiV"}],"Y5dV":[function(require,module,exports) {

},{}],"bsPN":[function(require,module,exports) {
"use strict";function t(t,r){return e(t,a(t,r,"get"))}function e(t,e){return e.get?e.get.call(t):e.value}function r(t,e,r){return n(t,a(t,e,"set"),r),r}function a(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}function n(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Pagination=void 0;var i=new WeakMap;class s{constructor({initialPage:t=1,total:e=1,onChange:a}){i.set(this,{writable:!0,value:1}),r(this,i,t),this.total=e,this.onChange=a}get currentPage(){return t(this,i)}set currentPage(t){r(this,i,t),this.onChange&&this.onChange(t)}nextPage(){this.currentPage!==this.total&&(this.currentPage+=1)}prevPage(){1!==this.currentPage&&(this.currentPage-=1)}beforePrevPage(){this.currentPage<=1||(this.currentPage-=2)}afterNextPage(){this.currentPage>this.total-2||(this.currentPage+=2)}firstPage(){this.currentPage=1}lastPage(){this.currentPage=this.total}}exports.Pagination=s;
},{}],"UyPo":[function(require,module,exports) {
"use strict";var e=n(require("./api-service")),t=require("./pagination-class");function n(e){return e&&e.__esModule?e:{default:e}}const d=document.querySelector(".prev"),i=document.querySelector(".next"),r=document.querySelector(".current-page"),o=document.querySelector(".before-page"),a=document.querySelector(".after-page"),l=document.querySelector(".before-page__before"),c=document.querySelector(".after-page__after"),s=document.querySelector(".first"),u=document.querySelector(".last"),h=document.querySelector(".dots-prev"),y=document.querySelector(".dots-last");o.hidden=!0,d.hidden=!0,l.hidden=!0,s.hidden=!0,h.style.display="none",y.style.display="flex";const f=new e.default,g=new t.Pagination({total:20,onChange(e){r.textContent=e,o.textContent=e-1,a.textContent=e+1,l.textContent=e-2,c.textContent=e+2,u.textContent=this.total,e<2?(o.hidden=!0,d.hidden=!0):(o.hidden=!1,d.hidden=!1),e<3?(l.hidden=!0,s.hidden=!0):(l.hidden=!1,s.hidden=!1),s.hidden=e<4,h.style.display=e<5?"none":"flex",e>this.total-1?u.hidden=!0:u.hidden=!1,e>this.total-4?y.style.display="none":y.style.display="flex",e>this.total-3?c.hidden=!0:c.hidden=!1,e>this.total-2?a.hidden=!0:a.hidden=!1,e>this.total-1?i.hidden=!0:i.hidden=!1}});i.addEventListener("click",()=>{g.nextPage()}),d.addEventListener("click",()=>{g.prevPage()}),o.addEventListener("click",()=>{g.prevPage()}),a.addEventListener("click",()=>{g.nextPage()}),l.addEventListener("click",()=>{g.beforePrevPage()}),c.addEventListener("click",()=>{g.afterNextPage()}),s.addEventListener("click",()=>{g.firstPage()}),u.addEventListener("click",()=>{g.lastPage()});
},{"./api-service":"hC31","./pagination-class":"bsPN"}],"CCEu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fetchPopularFilms=i;var e=u(require("./api-service")),r=u(require("./moviesMarkup")),t=u(require("./refs"));function u(e){return e&&e.__esModule?e:{default:e}}const s=new e.default;function i(){t.default.emptyResult.innerHTML="",s.fetchPopularMovie().then(e=>{const u=(0,r.default)(e.results);t.default.galleryMovies.innerHTML=u})}i();
},{"./api-service":"hC31","./moviesMarkup":"QfT3","./refs":"VyiV"}],"KyeZ":[function(require,module,exports) {
"use strict";var e=l(require("./refs")),t=require("./popularFilms");function l(e){return e&&e.__esModule?e:{default:e}}const a=l=>{l.preventDefault(),e.default.spanHome.style.display="block",e.default.spanLibrary.style.display="none",e.default.searchBtn.style.display="block",e.default.libraryBtnList.style.display="none",e.default.backgroundContent.classList.remove("library-content"),(0,t.fetchPopularFilms)()};e.default.homeLi.addEventListener("click",a),e.default.logo.addEventListener("click",a);
},{"./refs":"VyiV","./popularFilms":"CCEu"}],"vVBF":[function(require,module,exports) {
"use strict";var t=e(require("./refs"));function e(t){return t&&t.__esModule?t:{default:t}}function o(){const e=window.pageYOffset,o=document.documentElement.clientHeight;e>o&&t.default.toBtnTop.classList.add("btn-to-top--visible"),e<o&&t.default.toBtnTop.classList.remove("btn-to-top--visible")}function n(){window.pageYOffset>0&&window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",o),t.default.toBtnTop.addEventListener("click",n);
},{"./refs":"VyiV"}],"lokY":[function(require,module,exports) {
const e=document.getElementById("chk");function t(){try{"dark"===localStorage.getItem("theme")?(document.body.classList.add("dark"),e.checked=!0):(document.body.classList.remove("dark"),e.checked=!1)}catch(t){}}e.addEventListener("change",()=>{"dark"===localStorage.getItem("theme")?localStorage.removeItem("theme"):localStorage.setItem("theme","dark"),t()}),t();
},{}],"tFZZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onCheckTheme=void 0;var e=o(require("./refs"));function o(e){return e&&e.__esModule?e:{default:e}}const t=()=>{e.default.body.classList.contains("dark")?e.default.footerModal.style.backgroundColor="#fff":e.default.footerModal.style.backgroundColor="#111"};exports.onCheckTheme=t;
},{"./refs":"VyiV"}],"zUU9":[function(require,module,exports) {
"use strict";var e=d(require("./refs")),t=require("./on-check-theme");function d(e){return e&&e.__esModule?e:{default:e}}const o=d=>{d.preventDefault(),e.default.footerBackdrop.classList.remove("is-hidden"),window.addEventListener("keydown",n),e.default.body.style.overflow="hidden",(0,t.onCheckTheme)()},r=()=>{e.default.footerBackdrop.classList.add("is-hidden"),window.removeEventListener("keydown",n),e.default.body.style.overflow="visible"},i=t=>{t.currentTarget===t.target&&(e.default.footerBackdrop.classList.add("is-hidden"),e.default.body.style.overflow="visible")};function n(e){"Escape"===e.code&&r()}e.default.footerBackdrop.addEventListener("click",i),e.default.modalCloseBtn.addEventListener("click",r),e.default.footerLink.addEventListener("click",o);
},{"./refs":"VyiV","./on-check-theme":"tFZZ"}],"yGjV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{constructor(){this._watched=[],this._queue=[]}getMovie(e){return JSON.parse(localStorage.getItem(e))}addMovie(e,t){switch(t){case"watched":if(null===this.getMovie(t)){this._watched.push(e);const t=JSON.stringify(this._watched);localStorage.setItem("watched",t)}let i=this.getMovie(t);if(i.find(t=>t.id!==e.id)||0===i.length){i.push(e);const t=JSON.stringify(i);localStorage.setItem("watched",t)}break;case"queue":if(!this.getMovie(t)){this._queue.push(e);const t=JSON.stringify(this._queue);localStorage.setItem("queue",t)}let s=this.getMovie(t);if(s.find(t=>t.id!==e.id)||0===s.length){s.push(e);const t=JSON.stringify(s);localStorage.setItem("queue",t)}}}deleteMovie(e,t){let i=this.getMovie(t),s=i.findIndex(t=>t.id===e.id);i.splice(s,1);const o=JSON.stringify(i);switch(t){case"watched":localStorage.setItem("watched",o);break;case"queue":localStorage.setItem("queue",o)}}checkMovie(e,t){let i=this.getMovie(t);if(i&&i.find(t=>t.id===e.id))return!0}}exports.default=e;
},{}],"ItER":[function(require,module,exports) {
"use strict";var t=l(require("./refs")),e=l(require("./api-service")),n=l(require("./searchMovie")),a=l(require("./images/img_not_found.jpg")),d=l(require("../js/local-storage"));function l(t){return t&&t.__esModule?t:{default:t}}const s=new e.default,o=new d.default;async function i(t){let e=t.target.parentElement.parentElement.id;await s.fetchInfoOfFilm(e).then(t=>{u(t);const e=document.querySelector(".modal_button-watch"),n=document.querySelector(".btn_watch-del"),a=document.querySelector(".modal_button-queue"),d=document.querySelector(".btn_queue-del"),l=o.checkMovie(t,"watched"),s=o.checkMovie(t,"queue");l&&(e.classList.add("visually-hidden"),n.classList.remove("visually-hidden")),s&&(a.classList.add("visually-hidden"),d.classList.remove("visually-hidden")),e.addEventListener("click",function(l){s&&(o.deleteMovie(t,"queue"),a.classList.remove("visually-hidden"),d.classList.add("visually-hidden"));const i=l.target.dataset.key;o.addMovie(t,i),e.classList.add("visually-hidden"),n.classList.remove("visually-hidden")}),n.addEventListener("click",function(a){const d=a.target.dataset.key;o.deleteMovie(t,d),e.classList.remove("visually-hidden"),n.classList.add("visually-hidden")}),a.addEventListener("click",function(s){l&&(o.deleteMovie(t,"watched"),e.classList.remove("visually-hidden"),n.classList.add("visually-hidden"));const i=s.target.dataset.key;o.addMovie(t,i),a.classList.add("visually-hidden"),d.classList.remove("visually-hidden")}),d.addEventListener("click",function(e){const n=e.target.dataset.key;o.deleteMovie(t,n),a.classList.remove("visually-hidden"),d.classList.add("visually-hidden")})})}function c(t){const{vote_average:e,original_title:n,genres:d,overview:l,popularity:s,poster_path:o,vote_count:i}=t;console.log(d);const c=d.length>0?d.map(t=>t.name):[];let u=a.default;return o&&(u=`https://image.tmdb.org/t/p/w500${o}`),`\n        <div class="modal_info">\n            <div class="modal_pic-block">\n                <img class="modal_pic" src=${u} width="240px" height="357px" alt="${n}">\n            </div>\n            \n            <div class="modal_info-block">\n                <h2 class="modal_title">${n}</h2>\n            \n                <table class="modal_info">\n                    <tr>\n                        <td class="modal_info-colonm1">Vote / Votes</td>\n                        <td class="modal_info-colonm2 rating-cell">\n                            <div class="modal_info-rating">\n                                <span>${e}</span>\n                            </div>\n                            <span class="modal_info-line">/</span>\n                            <div class="modal_info-votes">\n                                <span>${i}</span>\n                            </div>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td class="modal_info-colonm1">Popularity</td>\n                        <td class="modal_info-colonm2">${s}</td>\n                    </tr>\n                    <tr>\n                        <td class="modal_info-colonm1">Original Title</td>\n                        <td class="modal_info-colonm2 orig_title">${n}</td>\n                    </tr>\n                    <tr>\n                        <td class="modal_info-colonm1">Genre</td>\n                        <td class="modal_info-colonm2">${c.join(", ")}</td>\n                    </tr>\n                </table>\n            \n                <h3 class="modal_title-disc">About</h3>\n                <p class="modal_disc">${l}\n                </p>\n\n                <div class="modal_buttons">\n                    <button type="button" data-key="watched" class="modal_button modal_button-watch">\n                        add to Watched\n                    </button>\n                    <button type="button" data-key="watched" class="modal_button modal_button-watch btn_watch-del visually-hidden">\n                        Delete from watched\n                    </button>\n                    <button type="button" data-key="queue" class="modal_button modal_button-queue">\n                        add to queue\n                    </button>\n                    <button type="button" data-key="queue" class="modal_button modal_button-queue btn_queue-del visually-hidden">\n                        Delete from queue\n                    </button>\n                </div>\n            </div>\n        </div>\n    `}t.default.galleryMovies.addEventListener("click",i);const u=e=>{const n=c(e);t.default.backdrop.classList.remove("is-hidden"),t.default.modalInfo.innerHTML=n};
},{"./refs":"VyiV","./api-service":"hC31","./searchMovie":"HUSp","./images/img_not_found.jpg":"RRB9","../js/local-storage":"yGjV"}],"Focm":[function(require,module,exports) {
"use strict";require("./sass/main.scss"),require("./js/api-service"),require("./js/library"),require("./js/searchMovie"),require("./js/modal"),require("modern-normalize/modern-normalize.css"),require("./js/movie-pagination"),require("./js/render-home-page"),require("./js/popularFilms"),require("./js/btn-top"),require("./js/moon-sun"),require("./js/footer-modal"),require("./js/openModal"),require("./js/local-storage");
},{"./sass/main.scss":"clu1","./js/api-service":"hC31","./js/library":"BfNj","./js/searchMovie":"HUSp","./js/modal":"RSqK","modern-normalize/modern-normalize.css":"Y5dV","./js/movie-pagination":"UyPo","./js/render-home-page":"KyeZ","./js/popularFilms":"CCEu","./js/btn-top":"vVBF","./js/moon-sun":"lokY","./js/footer-modal":"zUU9","./js/openModal":"ItER","./js/local-storage":"yGjV"}]},{},["Focm"], null)
//# sourceMappingURL=/team-project-goit/src.41d5f77e.js.map